{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[35],{Hszy:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/school/[schoolId]/trial\",function(){return o(\"ZGEG\")}])},ZGEG:function(e,n,o){\"use strict\";o.r(n),o.d(n,\"__N_SSP\",(function(){return q}));var t=o(\"nKUr\"),a=o(\"g4pe\"),l=o.n(a),r=o(\"q1tI\"),i=o(\"9Koi\"),c=o(\"Gbx5\"),s=o(\"fapL\"),u=o(\"06vP\"),d=o(\"z98s\"),j=o(\"gXzk\"),m=o(\"bleL\"),b=o(\"oGbW\"),h=o(\"SF9G\"),O=o(\"wrBA\"),p=o(\"NKCw\"),f=o(\"20a2\"),g=o(\"Vn7y\"),x=o(\"0p0Q\"),v=o(\"yXLF\"),y=o(\"vDqi\"),w=o.n(y),_=o(\"Wgwc\"),N=o.n(_),L=o(\"R0GL\"),S=o(\"/nz0\"),E=o(\"VpSs\"),F=o(\"LuOM\"),I=Object(g.a)(E.r)(\"\\n  text-align: center;\\n\"),B=Object(g.a)(\"div\")((function(e){var n=e.theme;return\"\\n  position: relative;\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  padding-top: 9rem;\\n  padding-bottom: 0;\\n  max-width: 550px;\\n  \".concat(n.breakpoints.down(\"sm\"),\"{\\n    padding-top: 1rem;\\n  }\\n\")})),C=Object(g.a)(\"div\")(\"\\n  display: flex;\\n  justify-content: center;\\n  margin-bottom: 1rem;\\n\"),G=Object(g.a)(\"div\")(\"\\n  margin-top: 2rem;\\n\"),T=function(e){var n=e.schoolId,o=e.school,a=Object(i.a)().t,l=Object(f.useRouter)(),c=Object(r.useRef)(null),s=Object(r.useRef)(null),u=Object(p.b)(),d=u.handleSubmit,j=u.control,m=u.formState.errors,b=u.reset,h=Object(r.useState)(!1),O=h[0],g=h[1],y=a(\"dateLargeFormat\"),_=a(\"local\"),E=N()().locale(_),T=a(\"SignUpTryFree\"),q=a(\"FullName\"),z=a(\"Email\"),P=a(\"phone\"),k=a(\"signMeUp\"),A=a(\"AdditionalInf\");return Object(t.jsxs)(B,{children:[Object(t.jsx)(L.a,{ref:c,type:\"success\",message:\"Trial sign up created\"}),Object(t.jsx)(L.a,{ref:s,type:\"error\",message:\"Error, Something is wrong\"}),Object(t.jsx)(C,{children:Object(t.jsx)(I,{children:T})}),Object(t.jsxs)(\"form\",{onSubmit:d((function(e){var t;g(!0),w.a.post(\"/api/Lead\",{\"Full Name\":e.fullname,Email:e.email,Phone:e.phone,School:[n],\"Additional Information\":e.additionalInformation,templateModel:{url:o.schoolLogo?null===(t=o.schoolLogo[0])||void 0===t?void 0:t.url:\"\",user_name:e.fullname,school_name:o.schoolName,school_location:o.address1,createAt:E.format(y),fullname:e.fullname,email:e.email,phone:e.phone,description:null,schoolEmail:o.email}}).then((function(e){var n=l.asPath.split(\"/\");l.push(\"/\".concat(n[1],\"/\").concat(n[2],\"/confirmation\")),c.current.call(),b({fullname:\"\",email:\"\",phone:\"\",additionalInformation:\"\"})})).catch((function(e){console.log(\"error\",JSON.stringify(e)),s.current.call()})).finally((function(){return g(!1)}))})),noValidate:!0,children:[Object(t.jsx)(p.a,{name:\"fullname\",control:j,rules:{required:!0},render:function(e){var n,o=e.field;return Object(t.jsx)(F.a,{name:o.name,value:o.value,onBlur:o.onBlur,onChange:o.onChange,error:(null===m||void 0===m||null===(n=m.fullname)||void 0===n?void 0:n.type)&&\"Fullname is required\",label:q})}}),Object(t.jsx)(p.a,{name:\"email\",control:j,rules:{required:!0,pattern:S.b},render:function(e){var n,o=e.field;return Object(t.jsx)(F.a,{name:o.name,value:o.value,onBlur:o.onBlur,onChange:o.onChange,error:(null===m||void 0===m||null===(n=m.email)||void 0===n?void 0:n.type)&&\"Email is required\",label:z})}}),Object(t.jsx)(p.a,{name:\"phone\",control:j,rules:{required:!0},render:function(e){var n,o=e.field;return Object(t.jsx)(F.a,{name:o.name,value:o.value,onBlur:o.onBlur,onChange:o.onChange,error:(null===m||void 0===m||null===(n=m.phone)||void 0===n?void 0:n.type)&&\"Phone is required\",label:P})}}),Object(t.jsx)(p.a,{name:\"additionalInformation\",control:j,render:function(e){var n=e.field;return Object(t.jsx)(F.b,{name:n.name,value:n.value,onBlur:n.onBlur,onChange:n.onChange,label:A})}}),Object(t.jsx)(G,{children:Object(t.jsx)(x.a,{loadingIndicator:Object(t.jsx)(v.a,{color:\"primary\",size:20}),loading:O,type:\"submit\",fullWidth:!0,size:\"large\",children:k})}),Object(t.jsx)(\"div\",{style:{marginBottom:60}})]})]})},q=!0;n.default=function(e){var n,o=e.data,a=(0,Object(i.a)().t)(\"freeTrial\"),r=Object.entries(o).length>0?o:{schoolName:\"\",schoolLogo:[{url:\"\"}],phone:null,recordId:\"\",phoneType:\"\"},p=r.schoolName,f=r.schoolLogo,g=r.phone,x=r.recordId,v=r.phoneType;return!o||o&&0===Object.entries(o).length?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(l.a,{children:Object(t.jsx)(c.b,{})}),Object(t.jsxs)(s.a,{children:[Object(t.jsx)(c.a,{}),Object(t.jsx)(j.b,{children:Object(t.jsx)(m.a,{isFlexGrow:!0,children:Object(t.jsx)(O.a,{msg:\"SCHOOL NOT FOUND\"})})})]})]}):Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)(l.a,{children:[Object(t.jsx)(c.b,{}),Object(t.jsx)(\"title\",{children:\"\".concat(p,\" \").concat(a,\" \\xb7 DOJO+\")})]}),Object(t.jsxs)(s.a,{children:[Object(t.jsx)(u.a,{children:Object(t.jsx)(d.a,{schoolName:p||\"\",shcoolLogo:f?null===(n=f[0])||void 0===n?void 0:n.url:\"/assets/logo/dojo.png\"})}),Object(t.jsx)(j.b,{children:Object(t.jsx)(m.a,{isFlexGrow:!0,children:Object(t.jsx)(T,{schoolId:x,school:o})})}),Object(t.jsx)(b.a,{children:Object(t.jsx)(h.a,{phoneType:v,phoneNumber:g,plans:!1})})]})]})}}},[[\"Hszy\",0,1,3,2,4,5,6,7,8,10,9,15,14,18]]]);","map":{"version":3,"sources":["static/chunks/pages/school/[schoolId]/trial-9a0d8d6095154022159e.js"],"names":["_N_E","window","push","Hszy","module","exports","__webpack_require__","__NEXT_P","ZGEG","__webpack_exports__","r","d","__N_SSP","jsx_runtime","head","head_default","n","react","useTranslation","SchoolScripts","Section","Header","SchoolHeader","Main","Container","Footer","BottomNavigation","EmptyViewAlert","index_esm","next_router","styled","LoadingButton","CircularProgress","axios","axios_default","dayjs_min","dayjs_min_default","Tosatify","constants","texts","Input","Title","Object","Content","_ref","theme","concat","breakpoints","down","TextContainer","ButtonContainer","Trial_Trial","_ref2","schoolId","school","t","router","successAlert","errorAlert","_useForm","handleSubmit","control","errors","formState","reset","_useState","isLoading","setIsLoading","dateLargeFormat","local","week","locale","SignUpTryFree","FullName","Email","phone","signMeUp","AdditionalInf","children","ref","type","message","onSubmit","data","_school$schoolLogo$","a","post","Full Name","fullname","email","Phone","School","Additional Information","additionalInformation","templateModel","url","schoolLogo","user_name","school_name","schoolName","school_location","address1","createAt","format","description","schoolEmail","then","res","rout","asPath","split","current","call","catch","e","console","log","JSON","stringify","finally","noValidate","name","rules","required","render","_ref3","_errors$fullname","field","value","onBlur","onChange","error","label","pattern","_ref4","_errors$email","_ref5","_errors$phone","_ref6","loadingIndicator","color","size","loading","fullWidth","style","marginBottom","_schoolLogo$","textTrial","entries","length","recordId","phoneType","isFlexGrow","msg","shcoolLogo","phoneNumber","plans"],"mappings":"AAAAA,MACCC,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,KACA,SAAUC,EAAQC,EAASC,IAG5BL,OAAOM,SAAWN,OAAOM,UAAY,IAAIL,KAAK,CAC7C,2BACA,WACE,OAAOI,EAAoB,YAO7BE,KACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aAEAA,EAAoBI,EAAED,GAGtBH,EAAoBK,EAAEF,EAAqB,WAAW,WAAa,OAAqBG,KAGxF,IAAIC,EAAcP,EAAoB,QAGlCQ,EAAOR,EAAoB,QAC3BS,EAA4BT,EAAoBU,EAAEF,GAGlDG,EAAQX,EAAoB,QAG5BY,EAAiBZ,EAAoB,QAGrCa,EAAgBb,EAAoB,QAGpCc,EAAUd,EAAoB,QAG9Be,EAASf,EAAoB,QAG7BgB,EAAehB,EAAoB,QAGnCiB,EAAOjB,EAAoB,QAG3BkB,EAAYlB,EAAoB,QAGhCmB,EAASnB,EAAoB,QAG7BoB,EAAmBpB,EAAoB,QAGvCqB,EAAiBrB,EAAoB,QAGrCsB,EAAYtB,EAAoB,QAGhCuB,EAAcvB,EAAoB,QAGlCwB,EAASxB,EAAoB,QAG7ByB,EAAgBzB,EAAoB,QAGpC0B,EAAmB1B,EAAoB,QAGvC2B,EAAQ3B,EAAoB,QAC5B4B,EAA6B5B,EAAoBU,EAAEiB,GAGnDE,EAAY7B,EAAoB,QAChC8B,EAAiC9B,EAAoBU,EAAEmB,GAGvDE,EAAW/B,EAAoB,QAG/BgC,EAAYhC,EAAoB,QAGhCiC,EAAQjC,EAAoB,QAG5BkC,EAAQlC,EAAoB,QAkB5BmC,EAAQC,OAAOZ,EAAwB,EAA/BY,CAAkCH,EAAyC,EAA3EG,CAA8E,6BACtFC,EAAUD,OAAOZ,EAAwB,EAA/BY,CAAkC,MAAlCA,EAAyC,SAAUE,GAC/D,IAAIC,EAAQD,EAAKC,MACjB,MAAO,mLAAmLC,OAAOD,EAAME,YAAYC,KAAK,MAAO,uCAE7NC,EAAgBP,OAAOZ,EAAwB,EAA/BY,CAAkC,MAAlCA,CAAyC,4EACzDQ,EAAkBR,OAAOZ,EAAwB,EAA/BY,CAAkC,MAAlCA,CAAyC,2BAC3DS,EAAc,SAAeC,GAC/B,IAAIC,EAAWD,EAAMC,SACjBC,EAASF,EAAME,OAGfC,EADkBb,OAAOxB,EAAuC,EAA9CwB,GACEa,EAEpBC,EAASd,OAAOb,EAAuB,UAA9Ba,GACTe,EAAef,OAAOzB,EAAc,OAArByB,CAAwB,MACvCgB,EAAahB,OAAOzB,EAAc,OAArByB,CAAwB,MAErCiB,EAAWjB,OAAOd,EAA2B,EAAlCc,GACXkB,EAAeD,EAASC,aACxBC,EAAUF,EAASE,QACnBC,EAASH,EAASI,UAAUD,OAC5BE,EAAQL,EAASK,MAEjBC,EAAYvB,OAAOzB,EAAgB,SAAvByB,EAA0B,GACtCwB,EAAYD,EAAU,GACtBE,EAAeF,EAAU,GAEzBG,EAAkBb,EAAE,mBACpBc,EAAQd,EAAE,SACVe,EAAOlC,GAAAA,GAAsBmC,OAAOF,GA4CpCG,EAAgBjB,EAAE,iBAClBkB,EAAWlB,EAAE,YACbmB,EAAQnB,EAAE,SACVoB,EAAQpB,EAAE,SACVqB,EAAWrB,EAAE,YACbsB,EAAgBtB,EAAE,iBACtB,OAAoBb,OAAO7B,EAAkB,KAAzB6B,CAA4BC,EAAS,CACvDmC,SAAU,CAAcpC,OAAO7B,EAAiB,IAAxB6B,CAA2BL,EAA2B,EAAG,CAC/E0C,IAAKtB,EACLuB,KAAM,UACNC,QAAS,0BACMvC,OAAO7B,EAAiB,IAAxB6B,CAA2BL,EAA2B,EAAG,CACxE0C,IAAKrB,EACLsB,KAAM,QACNC,QAAS,8BACMvC,OAAO7B,EAAiB,IAAxB6B,CAA2BO,EAAe,CACzD6B,SAAuBpC,OAAO7B,EAAiB,IAAxB6B,CAA2BD,EAAO,CACvDqC,SAAUN,MAEG9B,OAAO7B,EAAkB,KAAzB6B,CAA4B,OAAQ,CACnDwC,SAAUtB,GA9DC,SAAkBuB,GAC/B,IAAIC,EAEJjB,GAAa,GACbjC,EAAcmD,EAAEC,KAAK,YAAa,CAChCC,YAAaJ,EAAKK,SAClBd,MAAOS,EAAKM,MACZC,MAAOP,EAAKR,MACZgB,OAAQ,CAACtC,GACTuC,yBAA0BT,EAAKU,sBAC/BC,cAAe,CACbC,IAAKzC,EAAO0C,WAA8D,QAAhDZ,EAAsB9B,EAAO0C,WAAW,UAAwC,IAAxBZ,OAAiC,EAASA,EAAoBW,IAAM,GACtJE,UAAWd,EAAKK,SAEhBU,YAAa5C,EAAO6C,WACpBC,gBAAiB9C,EAAO+C,SACxBC,SAAUhC,EAAKiC,OAAOnC,GAEtBoB,SAAUL,EAAKK,SACfC,MAAON,EAAKM,MACZd,MAAOQ,EAAKR,MACZ6B,YAAa,KACbC,YAAanD,EAAOmC,SAErBiB,MAAK,SAAUC,GAChB,IAAIC,EAAOpD,EAAOqD,OAAOC,MAAM,KAC/BtD,EAAOtD,KAAK,IAAI4C,OAAO8D,EAAK,GAAI,KAAK9D,OAAO8D,EAAK,GAAI,kBACrDnD,EAAasD,QAAQC,OACrBhD,EAAM,CACJwB,SAAU,GACVC,MAAO,GACPd,MAAO,GACPkB,sBAAuB,QAExBoB,OAAM,SAAUC,GACjBC,QAAQC,IAAI,QAASC,KAAKC,UAAUJ,IACpCxD,EAAWqD,QAAQC,UAClBO,SAAQ,WACT,OAAOpD,GAAa,SAyBpBqD,YAAY,EACZ1C,SAAU,CAAcpC,OAAO7B,EAAiB,IAAxB6B,CAA2Bd,EAA8B,EAAG,CAClF6F,KAAM,WACN5D,QAASA,EACT6D,MAAO,CACLC,UAAU,GAEZC,OAAQ,SAAgBC,GACtB,IAAIC,EAEAC,EAAQF,EAAME,MAClB,OAAoBrF,OAAO7B,EAAiB,IAAxB6B,CAA2BF,EAAyB,EAAG,CACzEiF,KAAMM,EAAMN,KACZO,MAAOD,EAAMC,MACbC,OAAQF,EAAME,OACdC,SAAUH,EAAMG,SAChBC,OAAmB,OAAXrE,QAA8B,IAAXA,GAAsE,QAAxCgE,EAAmBhE,EAAO0B,gBAA2C,IAArBsC,OAA1D,EAAiGA,EAAiB9C,OAAS,uBAC1KoD,MAAO3D,OAGI/B,OAAO7B,EAAiB,IAAxB6B,CAA2Bd,EAA8B,EAAG,CAC3E6F,KAAM,QACN5D,QAASA,EACT6D,MAAO,CACLC,UAAU,EACVU,QAAS/F,EAA+B,GAE1CsF,OAAQ,SAAgBU,GACtB,IAAIC,EAEAR,EAAQO,EAAMP,MAClB,OAAoBrF,OAAO7B,EAAiB,IAAxB6B,CAA2BF,EAAyB,EAAG,CACzEiF,KAAMM,EAAMN,KACZO,MAAOD,EAAMC,MACbC,OAAQF,EAAME,OACdC,SAAUH,EAAMG,SAChBC,OAAmB,OAAXrE,QAA8B,IAAXA,GAAgE,QAAlCyE,EAAgBzE,EAAO2B,aAAqC,IAAlB8C,OAApD,EAAwFA,EAAcvD,OAAS,oBAC9JoD,MAAO1D,OAGIhC,OAAO7B,EAAiB,IAAxB6B,CAA2Bd,EAA8B,EAAG,CAC3E6F,KAAM,QACN5D,QAASA,EACT6D,MAAO,CACLC,UAAU,GAEZC,OAAQ,SAAgBY,GACtB,IAAIC,EAEAV,EAAQS,EAAMT,MAClB,OAAoBrF,OAAO7B,EAAiB,IAAxB6B,CAA2BF,EAAyB,EAAG,CACzEiF,KAAMM,EAAMN,KACZO,MAAOD,EAAMC,MACbC,OAAQF,EAAME,OACdC,SAAUH,EAAMG,SAChBC,OAAmB,OAAXrE,QAA8B,IAAXA,GAAgE,QAAlC2E,EAAgB3E,EAAOa,aAAqC,IAAlB8D,OAApD,EAAwFA,EAAczD,OAAS,oBAC9JoD,MAAOzD,OAGIjC,OAAO7B,EAAiB,IAAxB6B,CAA2Bd,EAA8B,EAAG,CAC3E6F,KAAM,wBACN5D,QAASA,EACT+D,OAAQ,SAAgBc,GACtB,IAAIX,EAAQW,EAAMX,MAClB,OAAoBrF,OAAO7B,EAAiB,IAAxB6B,CAA2BF,EAAwB,EAAG,CACxEiF,KAAMM,EAAMN,KACZO,MAAOD,EAAMC,MACbC,OAAQF,EAAME,OACdC,SAAUH,EAAMG,SAChBE,MAAOvD,OAGInC,OAAO7B,EAAiB,IAAxB6B,CAA2BQ,EAAiB,CAC3D4B,SAAuBpC,OAAO7B,EAAiB,IAAxB6B,CAA2BX,EAA+B,EAAG,CAClF4G,iBAA+BjG,OAAO7B,EAAiB,IAAxB6B,CAA2BV,EAAkC,EAAG,CAC7F4G,MAAO,UACPC,KAAM,KAERC,QAAS5E,EACTc,KAAM,SACN+D,WAAW,EACXF,KAAM,QACN/D,SAAUF,MAEGlC,OAAO7B,EAAiB,IAAxB6B,CAA2B,MAAO,CACjDsG,MAAO,CACLC,aAAc,aAoGpBrI,GAAU,EAC2BH,EAA6B,QA7EhD,SAAmBmC,GACvC,IAAIsG,EAEA/D,EAAOvC,EAAKuC,KAKZgE,GAAY5F,EAHMb,OAAOxB,EAAuC,EAA9CwB,GACEa,GAEN,aAEdH,EAAQV,OAAO0G,QAAQjE,GAAMkE,OAAS,EAAIlE,EAAO,CACnDgB,WAAY,GACZH,WAAY,CAAC,CACXD,IAAK,KAEPpB,MAAO,KAEP2E,SAAU,GACVC,UAAW,IAETpD,EAAa/C,EAAM+C,WACnBH,EAAa5C,EAAM4C,WACnBrB,EAAQvB,EAAMuB,MACd2E,EAAWlG,EAAMkG,SACjBC,EAAYnG,EAAMmG,UAEtB,OAAKpE,GAAQA,GAAwC,IAAhCzC,OAAO0G,QAAQjE,GAAMkE,OACpB3G,OAAO7B,EAAkB,KAAzB6B,CAA4B7B,EAAsB,SAAG,CACvEiE,SAAU,CAAcpC,OAAO7B,EAAiB,IAAxB6B,CAA2B3B,EAAasE,EAAG,CACjEP,SAAuBpC,OAAO7B,EAAiB,IAAxB6B,CAA2BvB,EAA2C,EAAG,MACjFuB,OAAO7B,EAAkB,KAAzB6B,CAA4BtB,EAAyB,EAAG,CACvE0D,SAAU,CAAcpC,OAAO7B,EAAiB,IAAxB6B,CAA2BvB,EAA6C,EAAG,IAAkBuB,OAAO7B,EAAiB,IAAxB6B,CAA2BnB,EAAyB,EAAG,CAC1KuD,SAAuBpC,OAAO7B,EAAiB,IAAxB6B,CAA2BlB,EAA6B,EAAG,CAChFgI,YAAY,EACZ1E,SAAuBpC,OAAO7B,EAAiB,IAAxB6B,CAA2Bf,EAAuC,EAAG,CAC1F8H,IAAK,+BAQG/G,OAAO7B,EAAkB,KAAzB6B,CAA4B7B,EAAsB,SAAG,CACvEiE,SAAU,CAAcpC,OAAO7B,EAAkB,KAAzB6B,CAA4B3B,EAAasE,EAAG,CAClEP,SAAU,CAAcpC,OAAO7B,EAAiB,IAAxB6B,CAA2BvB,EAA2C,EAAG,IAAkBuB,OAAO7B,EAAiB,IAAxB6B,CAA2B,QAAS,CACrJoC,SAAU,GAAGhC,OAAOqD,EAAY,KAAKrD,OAAOqG,EAAW,oBAE1CzG,OAAO7B,EAAkB,KAAzB6B,CAA4BtB,EAAyB,EAAG,CACvE0D,SAAU,CAAcpC,OAAO7B,EAAiB,IAAxB6B,CAA2BrB,EAAuB,EAAG,CAC3EyD,SAAuBpC,OAAO7B,EAAiB,IAAxB6B,CAA2BpB,EAAmC,EAAG,CACtF6E,WAAYA,GAAc,GAC1BuD,WAAY1D,EAAgD,QAAlCkD,EAAelD,EAAW,UAAiC,IAAjBkD,OAA0B,EAASA,EAAanD,IAAM,4BAE7GrD,OAAO7B,EAAiB,IAAxB6B,CAA2BnB,EAAyB,EAAG,CACtEuD,SAAuBpC,OAAO7B,EAAiB,IAAxB6B,CAA2BlB,EAA6B,EAAG,CAChFgI,YAAY,EACZ1E,SAAuBpC,OAAO7B,EAAiB,IAAxB6B,CAA2BS,EAAa,CAC7DE,SAAUiG,EACVhG,OAAQ6B,QAGGzC,OAAO7B,EAAiB,IAAxB6B,CAA2BjB,EAAuB,EAAG,CACpEqD,SAAuBpC,OAAO7B,EAAiB,IAAxB6B,CAA2BhB,EAA2C,EAAG,CAC9F6H,UAAWA,EACXI,YAAahF,EAGbiF,OAAO,eAaf,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG"},"name":"static/chunks/pages/school/[schoolId]/trial-9a0d8d6095154022159e.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[35],{\n\n/***/ \"Hszy\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/school/[schoolId]/trial\",\n      function () {\n        return __webpack_require__(\"ZGEG\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"ZGEG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return /* binding */ __N_SSP; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/next/head.js\nvar head = __webpack_require__(\"g4pe\");\nvar head_default = /*#__PURE__*/__webpack_require__.n(head);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/react-i18next/dist/es/useTranslation.js + 1 modules\nvar useTranslation = __webpack_require__(\"9Koi\");\n\n// EXTERNAL MODULE: ./src/shared/components/SchoolScripts.tsx\nvar SchoolScripts = __webpack_require__(\"Gbx5\");\n\n// EXTERNAL MODULE: ./src/shared/components/layout/Section.tsx\nvar Section = __webpack_require__(\"fapL\");\n\n// EXTERNAL MODULE: ./src/shared/components/layout/header/Header.tsx\nvar Header = __webpack_require__(\"06vP\");\n\n// EXTERNAL MODULE: ./src/shared/components/layout/header/SchoolHeader.tsx + 2 modules\nvar SchoolHeader = __webpack_require__(\"z98s\");\n\n// EXTERNAL MODULE: ./src/shared/components/layout/Main.tsx\nvar Main = __webpack_require__(\"gXzk\");\n\n// EXTERNAL MODULE: ./src/shared/components/layout/Container.tsx\nvar Container = __webpack_require__(\"bleL\");\n\n// EXTERNAL MODULE: ./src/shared/components/layout/Footer.tsx\nvar Footer = __webpack_require__(\"oGbW\");\n\n// EXTERNAL MODULE: ./src/shared/components/layout/navbars/BottomNavigation.tsx + 5 modules\nvar BottomNavigation = __webpack_require__(\"SF9G\");\n\n// EXTERNAL MODULE: ./src/shared/components/EmptyViewAlert.tsx\nvar EmptyViewAlert = __webpack_require__(\"wrBA\");\n\n// EXTERNAL MODULE: ./node_modules/react-hook-form/dist/index.esm.js\nvar index_esm = __webpack_require__(\"NKCw\");\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js + 2 modules\nvar styled = __webpack_require__(\"Vn7y\");\n\n// EXTERNAL MODULE: ./node_modules/@mui/lab/LoadingButton/LoadingButton.js + 1 modules\nvar LoadingButton = __webpack_require__(\"0p0Q\");\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/CircularProgress/CircularProgress.js + 1 modules\nvar CircularProgress = __webpack_require__(\"yXLF\");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(\"vDqi\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/dayjs/dayjs.min.js\nvar dayjs_min = __webpack_require__(\"Wgwc\");\nvar dayjs_min_default = /*#__PURE__*/__webpack_require__.n(dayjs_min);\n\n// EXTERNAL MODULE: ./src/shared/components/Tosatify.tsx + 6 modules\nvar Tosatify = __webpack_require__(\"R0GL\");\n\n// EXTERNAL MODULE: ./src/shared/constants/index.ts\nvar constants = __webpack_require__(\"/nz0\");\n\n// EXTERNAL MODULE: ./src/shared/components/texts.tsx\nvar texts = __webpack_require__(\"VpSs\");\n\n// EXTERNAL MODULE: ./src/shared/components/Input.tsx\nvar Input = __webpack_require__(\"LuOM\");\n\n// CONCATENATED MODULE: ./src/modules/trial/Trial.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Title = Object(styled[\"a\" /* default */])(texts[\"r\" /* TextWhite32CapitalizeBold */])(\"\\n  text-align: center;\\n\");\nvar Content = Object(styled[\"a\" /* default */])('div')(function (_ref) {\n  var theme = _ref.theme;\n  return \"\\n  position: relative;\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  padding-top: 9rem;\\n  padding-bottom: 0;\\n  max-width: 550px;\\n  \".concat(theme.breakpoints.down('sm'), \"{\\n    padding-top: 1rem;\\n  }\\n\");\n});\nvar TextContainer = Object(styled[\"a\" /* default */])('div')(\"\\n  display: flex;\\n  justify-content: center;\\n  margin-bottom: 1rem;\\n\");\nvar ButtonContainer = Object(styled[\"a\" /* default */])('div')(\"\\n  margin-top: 2rem;\\n\");\nvar Trial_Trial = function Trial(_ref2) {\n  var schoolId = _ref2.schoolId,\n      school = _ref2.school;\n\n  var _useTranslation = Object(useTranslation[\"a\" /* useTranslation */])(),\n      t = _useTranslation.t;\n\n  var router = Object(next_router[\"useRouter\"])();\n  var successAlert = Object(react[\"useRef\"])(null);\n  var errorAlert = Object(react[\"useRef\"])(null);\n\n  var _useForm = Object(index_esm[\"b\" /* useForm */])(),\n      handleSubmit = _useForm.handleSubmit,\n      control = _useForm.control,\n      errors = _useForm.formState.errors,\n      reset = _useForm.reset;\n\n  var _useState = Object(react[\"useState\"])(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var dateLargeFormat = t('dateLargeFormat');\n  var local = t('local');\n  var week = dayjs_min_default()().locale(local);\n\n  var onSubmit = function onSubmit(data) {\n    var _school$schoolLogo$;\n\n    setIsLoading(true);\n    axios_default.a.post('/api/Lead', {\n      'Full Name': data.fullname,\n      Email: data.email,\n      Phone: data.phone,\n      School: [schoolId],\n      'Additional Information': data.additionalInformation,\n      templateModel: {\n        url: school.schoolLogo ? (_school$schoolLogo$ = school.schoolLogo[0]) === null || _school$schoolLogo$ === void 0 ? void 0 : _school$schoolLogo$.url : '',\n        user_name: data.fullname,\n        // Mutual\n        school_name: school.schoolName,\n        school_location: school.address1,\n        createAt: week.format(dateLargeFormat),\n        // For school email\n        fullname: data.fullname,\n        email: data.email,\n        phone: data.phone,\n        description: null,\n        schoolEmail: school.email\n      }\n    }).then(function (res) {\n      var rout = router.asPath.split('/');\n      router.push(\"/\".concat(rout[1], \"/\").concat(rout[2], \"/confirmation\"));\n      successAlert.current.call();\n      reset({\n        fullname: '',\n        email: '',\n        phone: '',\n        additionalInformation: ''\n      });\n    }).catch(function (e) {\n      console.log('error', JSON.stringify(e));\n      errorAlert.current.call();\n    }).finally(function () {\n      return setIsLoading(false);\n    });\n  };\n\n  var SignUpTryFree = t('SignUpTryFree');\n  var FullName = t('FullName');\n  var Email = t('Email');\n  var phone = t('phone');\n  var signMeUp = t('signMeUp');\n  var AdditionalInf = t('AdditionalInf');\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Content, {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tosatify[\"a\" /* Toastify */], {\n      ref: successAlert,\n      type: \"success\",\n      message: \"Trial sign up created\"\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tosatify[\"a\" /* Toastify */], {\n      ref: errorAlert,\n      type: \"error\",\n      message: \"Error, Something is wrong\"\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextContainer, {\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Title, {\n        children: SignUpTryFree\n      })\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      noValidate: true,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* Controller */], {\n        name: \"fullname\",\n        control: control,\n        rules: {\n          required: true\n        },\n        render: function render(_ref3) {\n          var _errors$fullname;\n\n          var field = _ref3.field;\n          return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* TextField */], {\n            name: field.name,\n            value: field.value,\n            onBlur: field.onBlur,\n            onChange: field.onChange,\n            error: (errors === null || errors === void 0 ? void 0 : (_errors$fullname = errors.fullname) === null || _errors$fullname === void 0 ? void 0 : _errors$fullname.type) && 'Fullname is required',\n            label: FullName\n          });\n        }\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* Controller */], {\n        name: \"email\",\n        control: control,\n        rules: {\n          required: true,\n          pattern: constants[\"b\" /* EMAIL_REGEX */]\n        },\n        render: function render(_ref4) {\n          var _errors$email;\n\n          var field = _ref4.field;\n          return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* TextField */], {\n            name: field.name,\n            value: field.value,\n            onBlur: field.onBlur,\n            onChange: field.onChange,\n            error: (errors === null || errors === void 0 ? void 0 : (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.type) && 'Email is required',\n            label: Email\n          });\n        }\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* Controller */], {\n        name: \"phone\",\n        control: control,\n        rules: {\n          required: true\n        },\n        render: function render(_ref5) {\n          var _errors$phone;\n\n          var field = _ref5.field;\n          return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* TextField */], {\n            name: field.name,\n            value: field.value,\n            onBlur: field.onBlur,\n            onChange: field.onChange,\n            error: (errors === null || errors === void 0 ? void 0 : (_errors$phone = errors.phone) === null || _errors$phone === void 0 ? void 0 : _errors$phone.type) && 'Phone is required',\n            label: phone\n          });\n        }\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* Controller */], {\n        name: \"additionalInformation\",\n        control: control,\n        render: function render(_ref6) {\n          var field = _ref6.field;\n          return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"b\" /* Textarea */], {\n            name: field.name,\n            value: field.value,\n            onBlur: field.onBlur,\n            onChange: field.onChange,\n            label: AdditionalInf\n          });\n        }\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ButtonContainer, {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingButton[\"a\" /* default */], {\n          loadingIndicator: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CircularProgress[\"a\" /* default */], {\n            color: \"primary\",\n            size: 20\n          }),\n          loading: isLoading,\n          type: \"submit\",\n          fullWidth: true,\n          size: \"large\",\n          children: signMeUp\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        style: {\n          marginBottom: 60\n        }\n      })]\n    })]\n  });\n};\n// CONCATENATED MODULE: ./src/pages/school/[schoolId]/trial.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar trial_TrialView = function TrialView(_ref) {\n  var _schoolLogo$;\n\n  var data = _ref.data;\n\n  var _useTranslation = Object(useTranslation[\"a\" /* useTranslation */])(),\n      t = _useTranslation.t;\n\n  var textTrial = t('freeTrial');\n\n  var _ref2 = Object.entries(data).length > 0 ? data : {\n    schoolName: '',\n    schoolLogo: [{\n      url: ''\n    }],\n    phone: null,\n    //    schoolProductRelation: { count: 0 },\n    recordId: '',\n    phoneType: ''\n  },\n      schoolName = _ref2.schoolName,\n      schoolLogo = _ref2.schoolLogo,\n      phone = _ref2.phone,\n      recordId = _ref2.recordId,\n      phoneType = _ref2.phoneType;\n\n  if (!data || data && Object.entries(data).length === 0) {\n    return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(head_default.a, {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SchoolScripts[\"b\" /* GoogleManagerScript */], {})\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Section[\"a\" /* Section */], {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SchoolScripts[\"a\" /* GoogleManagerNoScript */], {}), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Main[\"b\" /* MainSchool */], {\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* Container */], {\n            isFlexGrow: true,\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EmptyViewAlert[\"a\" /* EmptyViewAlert */], {\n              msg: \"SCHOOL NOT FOUND\"\n            })\n          })\n        })]\n      })]\n    });\n  }\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(head_default.a, {\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SchoolScripts[\"b\" /* GoogleManagerScript */], {}), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"title\", {\n        children: \"\".concat(schoolName, \" \").concat(textTrial, \" \\xB7 DOJO+\")\n      })]\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Section[\"a\" /* Section */], {\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* Header */], {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SchoolHeader[\"a\" /* SchoolHeader */], {\n          schoolName: schoolName || '',\n          shcoolLogo: schoolLogo ? (_schoolLogo$ = schoolLogo[0]) === null || _schoolLogo$ === void 0 ? void 0 : _schoolLogo$.url : '/assets/logo/dojo.png'\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Main[\"b\" /* MainSchool */], {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* Container */], {\n          isFlexGrow: true,\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Trial_Trial, {\n            schoolId: recordId,\n            school: data\n          })\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Footer[\"a\" /* Footer */], {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BottomNavigation[\"a\" /* BottomNavigation */], {\n          phoneType: phoneType,\n          phoneNumber: phone // TODO migrate plan from sql to airtable\n          // plans={schoolProductRelation.count > 0}\n          ,\n          plans: false\n        })\n      })]\n    })]\n  });\n}; // This can be modified in a better way, but for reasons of time reuse the logic of the schedule view\n\n\nvar __N_SSP = true;\n/* harmony default export */ var trial = __webpack_exports__[\"default\"] = (trial_TrialView);\n\n/***/ })\n\n},[[\"Hszy\",0,1,3,2,4,5,6,7,8,10,9,15,14,18]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fschool%2F%5BschoolId%5D%2Ftrial&absolutePagePath=private-next-pages%2Fschool%2F%5BschoolId%5D%2Ftrial.tsx!","C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\src\\modules\\trial\\Trial.tsx","C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\src\\pages\\school\\[schoolId]\\trial.tsx"],"names":[],"mappings":"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","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/school/[schoolId]/trial\",\n      function () {\n        return require(\"private-next-pages/school/[schoolId]/trial.tsx\");\n      }\n    ]);\n  ","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useRouter } from 'next/router';\nimport { styled } from '@mui/material/styles';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport axios from 'axios';\nimport dayjs from 'dayjs';\nimport { Toastify } from '../../shared/components/Tosatify';\nimport { EMAIL_REGEX } from '../../shared/constants';\nimport { TextWhite32CapitalizeBold } from '../../shared/components/texts';\nimport { TextField, Textarea } from '../../shared/components/Input';\nvar Title = styled(TextWhite32CapitalizeBold)(\"\\n  text-align: center;\\n\");\nvar Content = styled('div')(function (_ref) {\n  var theme = _ref.theme;\n  return \"\\n  position: relative;\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  padding-top: 9rem;\\n  padding-bottom: 0;\\n  max-width: 550px;\\n  \".concat(theme.breakpoints.down('sm'), \"{\\n    padding-top: 1rem;\\n  }\\n\");\n});\nvar TextContainer = styled('div')(\"\\n  display: flex;\\n  justify-content: center;\\n  margin-bottom: 1rem;\\n\");\nvar ButtonContainer = styled('div')(\"\\n  margin-top: 2rem;\\n\");\nexport var Trial = function Trial(_ref2) {\n  var schoolId = _ref2.schoolId,\n      school = _ref2.school;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var router = useRouter();\n  var successAlert = useRef(null);\n  var errorAlert = useRef(null);\n\n  var _useForm = useForm(),\n      handleSubmit = _useForm.handleSubmit,\n      control = _useForm.control,\n      errors = _useForm.formState.errors,\n      reset = _useForm.reset;\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var dateLargeFormat = t('dateLargeFormat');\n  var local = t('local');\n  var week = dayjs().locale(local);\n\n  var onSubmit = function onSubmit(data) {\n    var _school$schoolLogo$;\n\n    setIsLoading(true);\n    axios.post('/api/Lead', {\n      'Full Name': data.fullname,\n      Email: data.email,\n      Phone: data.phone,\n      School: [schoolId],\n      'Additional Information': data.additionalInformation,\n      templateModel: {\n        url: school.schoolLogo ? (_school$schoolLogo$ = school.schoolLogo[0]) === null || _school$schoolLogo$ === void 0 ? void 0 : _school$schoolLogo$.url : '',\n        user_name: data.fullname,\n        // Mutual\n        school_name: school.schoolName,\n        school_location: school.address1,\n        createAt: week.format(dateLargeFormat),\n        // For school email\n        fullname: data.fullname,\n        email: data.email,\n        phone: data.phone,\n        description: null,\n        schoolEmail: school.email\n      }\n    }).then(function (res) {\n      var rout = router.asPath.split('/');\n      router.push(\"/\".concat(rout[1], \"/\").concat(rout[2], \"/confirmation\"));\n      successAlert.current.call();\n      reset({\n        fullname: '',\n        email: '',\n        phone: '',\n        additionalInformation: ''\n      });\n    }).catch(function (e) {\n      console.log('error', JSON.stringify(e));\n      errorAlert.current.call();\n    }).finally(function () {\n      return setIsLoading(false);\n    });\n  };\n\n  var SignUpTryFree = t('SignUpTryFree');\n  var FullName = t('FullName');\n  var Email = t('Email');\n  var phone = t('phone');\n  var signMeUp = t('signMeUp');\n  var AdditionalInf = t('AdditionalInf');\n  return /*#__PURE__*/_jsxs(Content, {\n    children: [/*#__PURE__*/_jsx(Toastify, {\n      ref: successAlert,\n      type: \"success\",\n      message: \"Trial sign up created\"\n    }), /*#__PURE__*/_jsx(Toastify, {\n      ref: errorAlert,\n      type: \"error\",\n      message: \"Error, Something is wrong\"\n    }), /*#__PURE__*/_jsx(TextContainer, {\n      children: /*#__PURE__*/_jsx(Title, {\n        children: SignUpTryFree\n      })\n    }), /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      noValidate: true,\n      children: [/*#__PURE__*/_jsx(Controller, {\n        name: \"fullname\",\n        control: control,\n        rules: {\n          required: true\n        },\n        render: function render(_ref3) {\n          var _errors$fullname;\n\n          var field = _ref3.field;\n          return /*#__PURE__*/_jsx(TextField, {\n            name: field.name,\n            value: field.value,\n            onBlur: field.onBlur,\n            onChange: field.onChange,\n            error: (errors === null || errors === void 0 ? void 0 : (_errors$fullname = errors.fullname) === null || _errors$fullname === void 0 ? void 0 : _errors$fullname.type) && 'Fullname is required',\n            label: FullName\n          });\n        }\n      }), /*#__PURE__*/_jsx(Controller, {\n        name: \"email\",\n        control: control,\n        rules: {\n          required: true,\n          pattern: EMAIL_REGEX\n        },\n        render: function render(_ref4) {\n          var _errors$email;\n\n          var field = _ref4.field;\n          return /*#__PURE__*/_jsx(TextField, {\n            name: field.name,\n            value: field.value,\n            onBlur: field.onBlur,\n            onChange: field.onChange,\n            error: (errors === null || errors === void 0 ? void 0 : (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.type) && 'Email is required',\n            label: Email\n          });\n        }\n      }), /*#__PURE__*/_jsx(Controller, {\n        name: \"phone\",\n        control: control,\n        rules: {\n          required: true\n        },\n        render: function render(_ref5) {\n          var _errors$phone;\n\n          var field = _ref5.field;\n          return /*#__PURE__*/_jsx(TextField, {\n            name: field.name,\n            value: field.value,\n            onBlur: field.onBlur,\n            onChange: field.onChange,\n            error: (errors === null || errors === void 0 ? void 0 : (_errors$phone = errors.phone) === null || _errors$phone === void 0 ? void 0 : _errors$phone.type) && 'Phone is required',\n            label: phone\n          });\n        }\n      }), /*#__PURE__*/_jsx(Controller, {\n        name: \"additionalInformation\",\n        control: control,\n        render: function render(_ref6) {\n          var field = _ref6.field;\n          return /*#__PURE__*/_jsx(Textarea, {\n            name: field.name,\n            value: field.value,\n            onBlur: field.onBlur,\n            onChange: field.onChange,\n            label: AdditionalInf\n          });\n        }\n      }), /*#__PURE__*/_jsx(ButtonContainer, {\n        children: /*#__PURE__*/_jsx(LoadingButton, {\n          loadingIndicator: /*#__PURE__*/_jsx(CircularProgress, {\n            color: \"primary\",\n            size: 20\n          }),\n          loading: isLoading,\n          type: \"submit\",\n          fullWidth: true,\n          size: \"large\",\n          children: signMeUp\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          marginBottom: 60\n        }\n      })]\n    })]\n  });\n};","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Head from 'next/head';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { GoogleManagerNoScript, GoogleManagerScript } from '../../../shared/components/SchoolScripts';\nimport { Section } from '../../../shared/components/layout/Section';\nimport { Header } from '../../../shared/components/layout/header/Header';\nimport { SchoolHeader } from '../../../shared/components/layout/header/SchoolHeader';\nimport { MainSchool } from '../../../shared/components/layout/Main';\nimport { Container } from '../../../shared/components/layout/Container';\nimport { Footer } from '../../../shared/components/layout/Footer';\nimport { BottomNavigation } from '../../../shared/components/layout/navbars/BottomNavigation';\nimport { EmptyViewAlert } from '../../../shared/components/EmptyViewAlert';\nimport { Trial } from '../../../modules/trial/Trial';\n\nvar TrialView = function TrialView(_ref) {\n  var _schoolLogo$;\n\n  var data = _ref.data;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var textTrial = t('freeTrial');\n\n  var _ref2 = Object.entries(data).length > 0 ? data : {\n    schoolName: '',\n    schoolLogo: [{\n      url: ''\n    }],\n    phone: null,\n    //    schoolProductRelation: { count: 0 },\n    recordId: '',\n    phoneType: ''\n  },\n      schoolName = _ref2.schoolName,\n      schoolLogo = _ref2.schoolLogo,\n      phone = _ref2.phone,\n      recordId = _ref2.recordId,\n      phoneType = _ref2.phoneType;\n\n  if (!data || data && Object.entries(data).length === 0) {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Head, {\n        children: /*#__PURE__*/_jsx(GoogleManagerScript, {})\n      }), /*#__PURE__*/_jsxs(Section, {\n        children: [/*#__PURE__*/_jsx(GoogleManagerNoScript, {}), /*#__PURE__*/_jsx(MainSchool, {\n          children: /*#__PURE__*/_jsx(Container, {\n            isFlexGrow: true,\n            children: /*#__PURE__*/_jsx(EmptyViewAlert, {\n              msg: \"SCHOOL NOT FOUND\"\n            })\n          })\n        })]\n      })]\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(GoogleManagerScript, {}), /*#__PURE__*/_jsx(\"title\", {\n        children: \"\".concat(schoolName, \" \").concat(textTrial, \" \\xB7 DOJO+\")\n      })]\n    }), /*#__PURE__*/_jsxs(Section, {\n      children: [/*#__PURE__*/_jsx(Header, {\n        children: /*#__PURE__*/_jsx(SchoolHeader, {\n          schoolName: schoolName || '',\n          shcoolLogo: schoolLogo ? (_schoolLogo$ = schoolLogo[0]) === null || _schoolLogo$ === void 0 ? void 0 : _schoolLogo$.url : '/assets/logo/dojo.png'\n        })\n      }), /*#__PURE__*/_jsx(MainSchool, {\n        children: /*#__PURE__*/_jsx(Container, {\n          isFlexGrow: true,\n          children: /*#__PURE__*/_jsx(Trial, {\n            schoolId: recordId,\n            school: data\n          })\n        })\n      }), /*#__PURE__*/_jsx(Footer, {\n        children: /*#__PURE__*/_jsx(BottomNavigation, {\n          phoneType: phoneType,\n          phoneNumber: phone // TODO migrate plan from sql to airtable\n          // plans={schoolProductRelation.count > 0}\n          ,\n          plans: false\n        })\n      })]\n    })]\n  });\n}; // This can be modified in a better way, but for reasons of time reuse the logic of the schedule view\n\n\nexport var __N_SSP = true;\nexport default TrialView;"]}}
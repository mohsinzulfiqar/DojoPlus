{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{\"4mKc\":function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:!0}),i(r(\"We0Z\"),t),i(r(\"rqf5\"),t),i(r(\"vsGz\"),t),i(r(\"boNy\"),t)},OwSH:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ConcreteSubscription=t.ConcretePublisher=void 0;var n=function(){function e(e,t){this.publisher=null,this.subscriber=null,this.publisher=e,this.subscriber=t}return e.prototype.unsubscribe=function(){if(null===this.publisher||null===this.subscriber)throw new Error(\"ConcreteSubscription: Invalid state\");var e=this.publisher.subscribers.indexOf(this.subscriber);if(-1===e)return console.log(\"ConcreteSubscription: Nonexistent subscriber.\");this.publisher.subscribers.splice(e,1)},e}();t.ConcreteSubscription=n;var i=function(){function e(){this.subscribers=[]}return e.prototype.subscribe=function(e){if(this.subscribers.includes(e))throw new Error(\"Publisher: Subscriber has been subscribed already.\");return this.subscribers.push(e),new n(this,e)},e.prototype.notify=function(e){for(var t=0,r=this.subscribers;t<r.length;t++){r[t].update(e)}},e}();t.ConcretePublisher=i},We0Z:function(e,t,r){\"use strict\";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,\"__esModule\",{value:!0}),t.useCallAction=t.useFetchAction=t.useEvent=t.useSubscription=void 0;var u=r(\"q1tI\");t.useSubscription=function(e,t,r){void 0===r&&(r=void 0);var n=u.useRef(t);n.current=t,r&&console.warn(\"Deps param has been deprecated, it is not useful anymore.\"),u.useEffect((function(){var t=e.subscribe((function(e){n.current(e)}));return function(){t.unsubscribe()}}),[e])},t.useEvent=function(e,t){var r=t||{},n=r.reducer,i=r.initialValue,o=u.useState((function(){return i&&e.isEmpty()?i:n?n(e.get()):e.get()})),s=o[0],c=o[1],a=u.useRef(null===t||void 0===t?void 0:t.reducer);return a.current=null===t||void 0===t?void 0:t.reducer,u.useEffect((function(){var t=e.subscribe((function(e){var t=a.current?a.current(e):e;c(t)}));return function(){t.unsubscribe()}}),[e]),s},t.useFetchAction=function(e,t,r){var o=r||{},s=o.onCompleted,c=o.onError,a=o.skip,l=e.event,f=e.errorEvent,b=u.useState((function(){return{value:l.get(),loading:!(null===r||void 0===r?void 0:r.skip),error:null}})),p=b[0],h=p.value,v=p.loading,d=p.error,y=b[1],_=u.useRef({completed:s,error:c});_.current={completed:s,error:c};var w=u.useCallback((function(){y((function(e){return n(n({},e),{loading:!0})})),e.apply(void 0,t)}),i([e],t));return u.useEffect((function(){a||w()}),[w,a]),u.useEffect((function(){var e=l.subscribe((function(e){y((function(t){return n(n({},t),{loading:!1,value:e})})),_.current.completed&&_.current.completed(e)})),t=f.subscribe((function(e){y((function(t){return n(n({},t),{loading:!1,error:e})})),_.current.error&&_.current.error(e)}));return function(){e.unsubscribe(),t.unsubscribe()}}),[l,f]),[h,v,{error:d,refetch:w}]},t.useCallAction=function(e,t){var r=t||{},i=r.onCompleted,o=r.onError,s=e.event,c=e.errorEvent,a=u.useState((function(){return{value:s.get(),loading:!1,error:null}})),l=a[0],f=l.value,b=l.loading,p=l.error,h=a[1],v=u.useRef({completed:i,error:o});v.current={completed:i,error:o};var d=u.useCallback((function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];h((function(e){return n(n({},e),{loading:!0})})),e.apply(void 0,t)}),[e]);return u.useEffect((function(){var e=s.subscribe((function(e){h((function(t){return n(n({},t),{loading:!1,value:e})})),v.current.completed&&v.current.completed(e)})),t=c.subscribe((function(e){h((function(t){return n(n({},t),{loading:!1,error:e})})),v.current.error&&v.current.error(e)}));return function(){e.unsubscribe(),t.unsubscribe()}}),[s,c]),[d,b,{error:p,data:f}]}},boNy:function(e,t,r){\"use strict\";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,u){function o(e){try{c(n.next(e))}catch(t){u(t)}}function s(e){try{c(n.throw(e))}catch(t){u(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,u,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function s(u){return function(s){return function(u){if(r)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(s){u=[6,s],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.createAction=void 0,t.createAction=function(e,t,r){var u=this,o=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n(u,void 0,void 0,(function(){var n,u;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.apply(void 0,o)];case 1:return n=i.sent(),[3,3];case 2:return u=i.sent(),t.dispatch(u),[2,{error:u}];case 3:return e.dispatch(n),[2,n]}}))}))};return o.isAction=!0,o.event=e,o.errorEvent=t,o}},rqf5:function(e,t,r){\"use strict\";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if(\"function\"!==typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,\"__esModule\",{value:!0}),t.View=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscriptions=[],t.toBeSubscribedIfUnMounted=[],t.hasBeenUnmounted=!1,t}return n(t,e),t.prototype.subscribe=function(e,t,r){void 0===r&&(r=!1);var n=e.subscribe(t,r);return this.subscriptions.push(n),this.toBeSubscribedIfUnMounted.push({event:e,callback:t,receiveLastValue:r}),n},t.prototype.componentDidMount=function(){if(this.hasBeenUnmounted){var e=this;this.toBeSubscribedIfUnMounted.forEach((function(t){var r=t.store;if(null!==r&&void 0!==r){var n=r.subscribe(t.eventName,t.callback,t.receiveLastValue);e.subscriptions.push(n)}else{var i=t.event;if(null!==i&&void 0!==i){n=i.subscribe(t.callback,t.receiveLastValue);e.subscriptions.push(n)}}}))}},t.prototype.componentWillUnmount=function(){this.subscriptions.forEach((function(e){e.unsubscribe()})),this.subscriptions=[],this.hasBeenUnmounted=!0},t}(r(\"q1tI\").Component);t.View=i},vsGz:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createEvent=t.Event=void 0;var n=r(\"OwSH\"),i=function(){function e(e){this.value=null,this.publisher=new n.ConcretePublisher,this.isEventEmpty=!0,e&&e.initialValue&&(this.value=e.initialValue),this.reducer=null===e||void 0===e?void 0:e.reducer}return e.prototype.subscribe=function(e,t){void 0===t&&(t=!1);var r={update:e};return t&&e(this.get()),this.publisher.subscribe(r)},e.prototype.dispatch=function(e){var t=Object.freeze(null!==this.reducer&&void 0!==this.reducer?this.reducer(e):e);this.value=t,this.publisher.notify(t),this.isEventEmpty=!1},e.prototype.get=function(){return Object.freeze(this.value)},e.prototype.isEmpty=function(){return this.isEventEmpty},e.prototype.clear=function(e){void 0===e&&(e=!1),e?this.dispatch(null):this.value=null,this.isEventEmpty=!0},e}();t.Event=i,t.createEvent=function(e){return new i(e)}}}]);","map":{"version":3,"sources":["static/chunks/30ccf66dcdbf56375e6687641736c17323d7709c.63e640cbc9d86bfd04e8.js"],"names":["window","push","4mKc","module","exports","__webpack_require__","__createBinding","this","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__exportStar","p","prototype","hasOwnProperty","call","value","OwSH","ConcreteSubscription","ConcretePublisher","publisher","subscriber","unsubscribe","Error","observerIndex","subscribers","indexOf","console","log","splice","subscribe","includes","notify","_i","_a","length","update","We0Z","__assign","assign","t","s","i","n","arguments","apply","__spreadArray","to","from","il","j","useCallAction","useFetchAction","useEvent","useSubscription","react_1","event","callback","deps","callbackRef","useRef","current","warn","useEffect","subscription","eventData","params","reducer","initialValue","_b","useState","isEmpty","setValue","reducerRef","state","eventState","action","options","onCompleted","onError","skip","errorEvent","loading","error","_c","setState","callbacksRef","completed","fetch","useCallback","successSub","data","errorSub","refetch","boNy","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","createAction","_this","actionCallback","error_1","dispatch","isAction","rqf5","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","String","__","constructor","View","_super","subscriptions","toBeSubscribedIfUnMounted","hasBeenUnmounted","receiveLastValue","componentDidMount","that","forEach","observer","store","eventName","event_1","componentWillUnmount","Component","vsGz","createEvent","Event","pub_sub_1","eventDescriptor","isEventEmpty","_subscriber","eventValue","freeze","clear"],"mappings":"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"},"name":"static/chunks/30ccf66dcdbf56375e6687641736c17323d7709c.63e640cbc9d86bfd04e8.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[12],{\n\n/***/ \"4mKc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(__webpack_require__(\"We0Z\"), exports);\n__exportStar(__webpack_require__(\"rqf5\"), exports);\n__exportStar(__webpack_require__(\"vsGz\"), exports);\n__exportStar(__webpack_require__(\"boNy\"), exports);\n\n\n/***/ }),\n\n/***/ \"OwSH\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConcreteSubscription = exports.ConcretePublisher = void 0;\n/**\n * An Object that represent the subscription to a Publisher.\n */\nvar ConcreteSubscription = /** @class */ (function () {\n    function ConcreteSubscription(publisher, subscriber) {\n        this.publisher = null;\n        this.subscriber = null;\n        this.publisher = publisher;\n        this.subscriber = subscriber;\n    }\n    ConcreteSubscription.prototype.unsubscribe = function () {\n        if (this.publisher === null || this.subscriber === null)\n            throw new Error('ConcreteSubscription: Invalid state');\n        var observerIndex = this.publisher.subscribers.indexOf(this.subscriber);\n        if (observerIndex === -1) {\n            return console.log('ConcreteSubscription: Nonexistent subscriber.');\n        }\n        this.publisher.subscribers.splice(observerIndex, 1);\n    };\n    return ConcreteSubscription;\n}());\nexports.ConcreteSubscription = ConcreteSubscription;\n/**\n * A simple publisher.\n */\nvar ConcretePublisher = /** @class */ (function () {\n    function ConcretePublisher() {\n        this.subscribers = [];\n    }\n    ConcretePublisher.prototype.subscribe = function (subscriber) {\n        var isExist = this.subscribers.includes(subscriber);\n        if (isExist) {\n            throw new Error('Publisher: Subscriber has been subscribed already.');\n        }\n        this.subscribers.push(subscriber);\n        return new ConcreteSubscription(this, subscriber);\n    };\n    ConcretePublisher.prototype.notify = function (value) {\n        for (var _i = 0, _a = this.subscribers; _i < _a.length; _i++) {\n            var subscriber = _a[_i];\n            subscriber.update(value);\n        }\n    };\n    return ConcretePublisher;\n}());\nexports.ConcretePublisher = ConcretePublisher;\n\n\n/***/ }),\n\n/***/ \"We0Z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useCallAction = exports.useFetchAction = exports.useEvent = exports.useSubscription = void 0;\nvar react_1 = __webpack_require__(\"q1tI\");\n/**\n * React Hook to subscribe to an specific event.\n *\n * @param {Event} event - The event to subscribe. The Event is considered constant across renders.\n * @param {Function} callback -  A function to be called when the subscription gets triggered.\n * @param {any[]} deps -  List of dependencies for the callback. Follow the same rules of useEffect.\n * @returns {void} - Void hook.\n */\nfunction useSubscription(event, callback, deps) {\n    if (deps === void 0) { deps = undefined; }\n    var callbackRef = react_1.useRef(callback);\n    callbackRef.current = callback;\n    if (deps) {\n        console.warn(\"Deps param has been deprecated, it is not useful anymore.\");\n    }\n    react_1.useEffect(function () {\n        var subscriptionCallback = function (eventData) {\n            callbackRef.current(eventData);\n        };\n        var subscription = event.subscribe(subscriptionCallback);\n        return function () {\n            subscription.unsubscribe();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [event]);\n}\nexports.useSubscription = useSubscription;\n/**\n * React Hook to subscribe to an Event.\n *\n * @param {Event} event - The event.\n * @param {object}  params - Params.\n * @param {object}  params.initialValue - Initial Value.\n * @param {Function}  params.reducer - Reducer for transform the data.\n * @returns {object} Data object.\n */\nfunction useEvent(event, params) {\n    var _a = params || {}, reducer = _a.reducer, initialValue = _a.initialValue;\n    var _b = react_1.useState(function () {\n        if (initialValue && event.isEmpty()) {\n            return initialValue;\n        }\n        else if (reducer) {\n            return reducer(event.get());\n        }\n        return event.get();\n    }), value = _b[0], setValue = _b[1];\n    var reducerRef = react_1.useRef(params === null || params === void 0 ? void 0 : params.reducer);\n    reducerRef.current = params === null || params === void 0 ? void 0 : params.reducer;\n    react_1.useEffect(function () {\n        var handleStateChange = function (state) {\n            var eventState = reducerRef.current\n                ? reducerRef.current(state)\n                : state;\n            setValue(eventState);\n        };\n        var subscription = event.subscribe(handleStateChange);\n        return function () {\n            subscription.unsubscribe();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [event]);\n    return value;\n}\nexports.useEvent = useEvent;\n/**\n * Hook that handle fetch promise actions, like querys to database.\n * This hook uses a declarative pattern.\n *\n * @param {ActionType} action - Action to fetch.\n * @param {Array} params - Param to call the action.\n * @param {UseFetchActionOptions} options - Option to handle the actions.\n * @param {Function} options.onCompleted - A callback to be called when the promise get resolved.\n * @param {Function} options.onError - A callback to be called when an error occurs.\n * @param {Function} options.skip - To skip the fetch ultil some validation happen.\n * @returns {UseFetchActionReturn} - Hook state result.\n */\nfunction useFetchAction(action, params, options) {\n    var _a = options || {}, onCompleted = _a.onCompleted, onError = _a.onError, skip = _a.skip;\n    var event = action.event, errorEvent = action.errorEvent;\n    var _b = react_1.useState(function () { return ({\n        value: event.get(),\n        loading: (options === null || options === void 0 ? void 0 : options.skip) ? false : true,\n        error: null,\n    }); }), _c = _b[0], value = _c.value, loading = _c.loading, error = _c.error, setState = _b[1];\n    var callbacksRef = react_1.useRef({\n        completed: onCompleted,\n        error: onError,\n    });\n    callbacksRef.current = {\n        completed: onCompleted,\n        error: onError,\n    };\n    var fetch = react_1.useCallback(function () {\n        setState(function (state) { return (__assign(__assign({}, state), { loading: true })); });\n        action.apply(void 0, params);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, __spreadArray([action], params));\n    react_1.useEffect(function () {\n        if (skip) {\n            return;\n        }\n        fetch();\n    }, [fetch, skip]);\n    react_1.useEffect(function () {\n        var onSuccessCallback = function (data) {\n            setState(function (state) { return (__assign(__assign({}, state), { loading: false, value: data })); });\n            if (callbacksRef.current.completed)\n                callbacksRef.current.completed(data);\n        };\n        var onErrorCallback = function (data) {\n            setState(function (state) { return (__assign(__assign({}, state), { loading: false, error: data })); });\n            if (callbacksRef.current.error)\n                callbacksRef.current.error(data);\n        };\n        var successSub = event.subscribe(onSuccessCallback);\n        var errorSub = errorEvent.subscribe(onErrorCallback);\n        return function () {\n            successSub.unsubscribe();\n            errorSub.unsubscribe();\n        };\n    }, [event, errorEvent]);\n    return [\n        value,\n        loading,\n        {\n            error: error,\n            refetch: fetch,\n        },\n    ];\n}\nexports.useFetchAction = useFetchAction;\n/**\n * Hook that handle call promise actions, like mutations to database in a declarative way.\n *\n * @param {ActionType} action - The action to be called.\n * @param {UseActionOptions} options - Option to handle the actions.\n * @param {Function} options.onCompleted - A callback to be called when the promise get resolved.\n * @param {Function} options.onError - A callback to be called when an error occurs.\n * @returns {UseCallActionReturn} - Hook state result.\n */\nfunction useCallAction(action, options) {\n    var _a = options || {}, onCompleted = _a.onCompleted, onError = _a.onError;\n    var event = action.event, errorEvent = action.errorEvent;\n    var _b = react_1.useState(function () { return ({\n        value: event.get(),\n        loading: false,\n        error: null,\n    }); }), _c = _b[0], value = _c.value, loading = _c.loading, error = _c.error, setState = _b[1];\n    var callbacksRef = react_1.useRef({\n        completed: onCompleted,\n        error: onError,\n    });\n    callbacksRef.current = {\n        completed: onCompleted,\n        error: onError,\n    };\n    var call = react_1.useCallback(function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        setState(function (state) { return (__assign(__assign({}, state), { loading: true })); });\n        action.apply(void 0, params);\n    }, [action]);\n    react_1.useEffect(function () {\n        var onSuccessCallback = function (data) {\n            setState(function (state) { return (__assign(__assign({}, state), { loading: false, value: data })); });\n            if (callbacksRef.current.completed)\n                callbacksRef.current.completed(data);\n        };\n        var onErrorCallback = function (data) {\n            setState(function (state) { return (__assign(__assign({}, state), { loading: false, error: data })); });\n            if (callbacksRef.current.error)\n                callbacksRef.current.error(data);\n        };\n        var successSub = event.subscribe(onSuccessCallback);\n        var errorSub = errorEvent.subscribe(onErrorCallback);\n        return function () {\n            successSub.unsubscribe();\n            errorSub.unsubscribe();\n        };\n    }, [event, errorEvent]);\n    return [\n        call,\n        loading,\n        {\n            error: error,\n            data: value,\n        },\n    ];\n}\nexports.useCallAction = useCallAction;\n\n\n/***/ }),\n\n/***/ \"boNy\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAction = void 0;\n/**\n * @param {Event} event - Event to bind the action.\n * @param {Event}  errorEvent - Event to bind on error.\n * @param {Function} action - Action to call.\n * @returns {Function} -  Function with the binded event.\n */\nfunction createAction(event, errorEvent, action) {\n    var _this = this;\n    var actionCallback = function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        return __awaiter(_this, void 0, void 0, function () {\n            var data, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, action.apply(void 0, params)];\n                    case 1:\n                        data = _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _a.sent();\n                        errorEvent.dispatch(error_1);\n                        return [2 /*return*/, { error: error_1 }];\n                    case 3:\n                        event.dispatch(data);\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    // This properties allow to idetify actions and it events from services and other functions\n    actionCallback.isAction = true;\n    actionCallback.event = event;\n    actionCallback.errorEvent = errorEvent;\n    return actionCallback;\n}\nexports.createAction = createAction;\n\n\n/***/ }),\n\n/***/ \"rqf5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.View = void 0;\nvar react_1 = __webpack_require__(\"q1tI\");\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subscriptions = [];\n        _this.toBeSubscribedIfUnMounted = [];\n        _this.hasBeenUnmounted = false;\n        return _this;\n    }\n    /**\n     * Subscribe to an Event\n     * This is a helpful method to keep track of your subscriptions on UnMount and Mount of the Component.\n     *\n     * @param {Event} event - The Event object to which you want to subscribe\n     * @param {Function }callback - The callback function that's gonna be executed when it happens\n     * @param {boolean}receiveLastValue - Whether the callback should receive the last value immediately\n     * @return {Subscription} subscription The subscription for this event in the Store\n     */\n    View.prototype.subscribe = function (event, callback, receiveLastValue) {\n        if (receiveLastValue === void 0) { receiveLastValue = false; }\n        var subscription = event.subscribe(callback, receiveLastValue);\n        this.subscriptions.push(subscription);\n        // on an event where the component is unmounted and then mounted:\n        this.toBeSubscribedIfUnMounted.push({ event: event, callback: callback, receiveLastValue: receiveLastValue });\n        return subscription;\n    };\n    View.prototype.componentDidMount = function () {\n        if (!this.hasBeenUnmounted)\n            return;\n        var that = this;\n        this.toBeSubscribedIfUnMounted.forEach(function (observer) {\n            var store = observer.store;\n            if (store !== null && store !== undefined) {\n                var subscription = store.subscribe(observer.eventName, observer.callback, observer.receiveLastValue);\n                that.subscriptions.push(subscription);\n            }\n            else {\n                var event_1 = observer.event;\n                if (event_1 !== null && event_1 !== undefined) {\n                    var subscription = event_1.subscribe(observer.callback, observer.receiveLastValue);\n                    that.subscriptions.push(subscription);\n                }\n            }\n        });\n    };\n    View.prototype.componentWillUnmount = function () {\n        this.subscriptions.forEach(function (subscription) {\n            subscription.unsubscribe();\n        });\n        this.subscriptions = [];\n        this.hasBeenUnmounted = true;\n    };\n    return View;\n}(react_1.Component));\nexports.View = View;\n\n\n/***/ }),\n\n/***/ \"vsGz\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createEvent = exports.Event = void 0;\nvar pub_sub_1 = __webpack_require__(\"OwSH\");\n/**\n * New Event Classes.\n */\nvar Event = /** @class */ (function () {\n    function Event(eventDescriptor) {\n        this.value = null;\n        this.publisher = new pub_sub_1.ConcretePublisher();\n        this.isEventEmpty = true;\n        if (eventDescriptor && eventDescriptor.initialValue)\n            this.value = eventDescriptor.initialValue;\n        this.reducer = eventDescriptor === null || eventDescriptor === void 0 ? void 0 : eventDescriptor.reducer;\n    }\n    Event.prototype.subscribe = function (subscriber, receiveLastValue) {\n        if (receiveLastValue === void 0) { receiveLastValue = false; }\n        var _subscriber = {\n            update: subscriber,\n        };\n        if (receiveLastValue)\n            subscriber(this.get());\n        return this.publisher.subscribe(_subscriber);\n    };\n    Event.prototype.dispatch = function (eventValue) {\n        var value = Object.freeze(this.reducer !== null && this.reducer !== undefined\n            ? this.reducer(eventValue)\n            : eventValue);\n        this.value = value;\n        this.publisher.notify(value);\n        this.isEventEmpty = false;\n    };\n    Event.prototype.get = function () {\n        return Object.freeze(this.value);\n    };\n    Event.prototype.isEmpty = function () {\n        return this.isEventEmpty;\n    };\n    /**\n     * Removes all data from the Event store.\n     *\n     * @param {boolean} dispatch -\n     */\n    Event.prototype.clear = function (dispatch) {\n        if (dispatch === void 0) { dispatch = false; }\n        if (dispatch) {\n            this.dispatch(null); // Empty dispatch\n        }\n        else {\n            this.value = null;\n        }\n        this.isEventEmpty = true;\n    };\n    return Event;\n}());\nexports.Event = Event;\n/**\n * Creates an event from a descriptor.\n *\n * @param {EventParams} eventDescriptor - Event options.\n * @returns {Event} - Event object.\n */\nfunction createEvent(eventDescriptor) {\n    return new Event(eventDescriptor);\n}\nexports.createEvent = createEvent;\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\node_modules\\@cobuildlab\\react-simple-state\\lib\\index.js","C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\node_modules\\@cobuildlab\\react-simple-state\\lib\\pub-sub.js","C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\node_modules\\@cobuildlab\\react-simple-state\\lib\\hooks.js","C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\node_modules\\@cobuildlab\\react-simple-state\\lib\\actions.js","C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\node_modules\\@cobuildlab\\react-simple-state\\lib\\views.js","C:\\Users\\Public.DESKTOP-5K819ES\\Documents\\GitHub\\dojoplus\\node_modules\\@cobuildlab\\react-simple-state\\lib\\event.js"],"names":[],"mappings":";;;;;;AAAa;AACb;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,MAAS;AAC9B,aAAa,mBAAO,CAAC,MAAS;AAC9B,aAAa,mBAAO,CAAC,MAAS;AAC9B,aAAa,mBAAO,CAAC,MAAW;;;;;;;;;ACfnB;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,gBAAgB;AAC/D;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;AChDa;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,QAAQ;AAC5D;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,cAAc,mBAAO,CAAC,MAAO;AAC7B;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,KAAK;AAClB;AACA;AACA,0BAA0B,kBAAkB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,MAAM;AACjB,WAAW,sBAAsB;AACjC,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,qBAAqB;AAClC;AACA;AACA,0BAA0B;AAC1B;AACA,2CAA2C;AAC3C;AACA;AACA;AACA,KAAK,EAAE,EAAE;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,mCAAmC,6BAA6B,WAAW,gBAAgB,GAAG,EAAE;AAChG;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,uCAAuC,6BAA6B,WAAW,8BAA8B,GAAG,EAAE;AAClH;AACA;AACA;AACA;AACA,uCAAuC,6BAA6B,WAAW,8BAA8B,GAAG,EAAE;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,iBAAiB;AAC5B,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,oBAAoB;AACjC;AACA;AACA,0BAA0B;AAC1B;AACA,2CAA2C;AAC3C;AACA;AACA;AACA,KAAK,EAAE,EAAE;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,mCAAmC,6BAA6B,WAAW,gBAAgB,GAAG,EAAE;AAChG;AACA,KAAK;AACL;AACA;AACA,uCAAuC,6BAA6B,WAAW,8BAA8B,GAAG,EAAE;AAClH;AACA;AACA;AACA;AACA,uCAAuC,6BAA6B,WAAW,8BAA8B,GAAG,EAAE;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;ACpNa;AACb;AACA,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,iBAAiB;AAChE;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC/Ea;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA,cAAc,mBAAO,CAAC,MAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,gBAAgB,aAAa;AAC7B;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA,6CAA6C,uEAAuE;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;ACzEa;AACb,8CAA8C,cAAc;AAC5D;AACA,gBAAgB,mBAAO,CAAC,MAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA","file":"x","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./hooks\"), exports);\n__exportStar(require(\"./views\"), exports);\n__exportStar(require(\"./event\"), exports);\n__exportStar(require(\"./actions\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConcreteSubscription = exports.ConcretePublisher = void 0;\n/**\n * An Object that represent the subscription to a Publisher.\n */\nvar ConcreteSubscription = /** @class */ (function () {\n    function ConcreteSubscription(publisher, subscriber) {\n        this.publisher = null;\n        this.subscriber = null;\n        this.publisher = publisher;\n        this.subscriber = subscriber;\n    }\n    ConcreteSubscription.prototype.unsubscribe = function () {\n        if (this.publisher === null || this.subscriber === null)\n            throw new Error('ConcreteSubscription: Invalid state');\n        var observerIndex = this.publisher.subscribers.indexOf(this.subscriber);\n        if (observerIndex === -1) {\n            return console.log('ConcreteSubscription: Nonexistent subscriber.');\n        }\n        this.publisher.subscribers.splice(observerIndex, 1);\n    };\n    return ConcreteSubscription;\n}());\nexports.ConcreteSubscription = ConcreteSubscription;\n/**\n * A simple publisher.\n */\nvar ConcretePublisher = /** @class */ (function () {\n    function ConcretePublisher() {\n        this.subscribers = [];\n    }\n    ConcretePublisher.prototype.subscribe = function (subscriber) {\n        var isExist = this.subscribers.includes(subscriber);\n        if (isExist) {\n            throw new Error('Publisher: Subscriber has been subscribed already.');\n        }\n        this.subscribers.push(subscriber);\n        return new ConcreteSubscription(this, subscriber);\n    };\n    ConcretePublisher.prototype.notify = function (value) {\n        for (var _i = 0, _a = this.subscribers; _i < _a.length; _i++) {\n            var subscriber = _a[_i];\n            subscriber.update(value);\n        }\n    };\n    return ConcretePublisher;\n}());\nexports.ConcretePublisher = ConcretePublisher;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useCallAction = exports.useFetchAction = exports.useEvent = exports.useSubscription = void 0;\nvar react_1 = require(\"react\");\n/**\n * React Hook to subscribe to an specific event.\n *\n * @param {Event} event - The event to subscribe. The Event is considered constant across renders.\n * @param {Function} callback -  A function to be called when the subscription gets triggered.\n * @param {any[]} deps -  List of dependencies for the callback. Follow the same rules of useEffect.\n * @returns {void} - Void hook.\n */\nfunction useSubscription(event, callback, deps) {\n    if (deps === void 0) { deps = undefined; }\n    var callbackRef = react_1.useRef(callback);\n    callbackRef.current = callback;\n    if (deps) {\n        console.warn(\"Deps param has been deprecated, it is not useful anymore.\");\n    }\n    react_1.useEffect(function () {\n        var subscriptionCallback = function (eventData) {\n            callbackRef.current(eventData);\n        };\n        var subscription = event.subscribe(subscriptionCallback);\n        return function () {\n            subscription.unsubscribe();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [event]);\n}\nexports.useSubscription = useSubscription;\n/**\n * React Hook to subscribe to an Event.\n *\n * @param {Event} event - The event.\n * @param {object}  params - Params.\n * @param {object}  params.initialValue - Initial Value.\n * @param {Function}  params.reducer - Reducer for transform the data.\n * @returns {object} Data object.\n */\nfunction useEvent(event, params) {\n    var _a = params || {}, reducer = _a.reducer, initialValue = _a.initialValue;\n    var _b = react_1.useState(function () {\n        if (initialValue && event.isEmpty()) {\n            return initialValue;\n        }\n        else if (reducer) {\n            return reducer(event.get());\n        }\n        return event.get();\n    }), value = _b[0], setValue = _b[1];\n    var reducerRef = react_1.useRef(params === null || params === void 0 ? void 0 : params.reducer);\n    reducerRef.current = params === null || params === void 0 ? void 0 : params.reducer;\n    react_1.useEffect(function () {\n        var handleStateChange = function (state) {\n            var eventState = reducerRef.current\n                ? reducerRef.current(state)\n                : state;\n            setValue(eventState);\n        };\n        var subscription = event.subscribe(handleStateChange);\n        return function () {\n            subscription.unsubscribe();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [event]);\n    return value;\n}\nexports.useEvent = useEvent;\n/**\n * Hook that handle fetch promise actions, like querys to database.\n * This hook uses a declarative pattern.\n *\n * @param {ActionType} action - Action to fetch.\n * @param {Array} params - Param to call the action.\n * @param {UseFetchActionOptions} options - Option to handle the actions.\n * @param {Function} options.onCompleted - A callback to be called when the promise get resolved.\n * @param {Function} options.onError - A callback to be called when an error occurs.\n * @param {Function} options.skip - To skip the fetch ultil some validation happen.\n * @returns {UseFetchActionReturn} - Hook state result.\n */\nfunction useFetchAction(action, params, options) {\n    var _a = options || {}, onCompleted = _a.onCompleted, onError = _a.onError, skip = _a.skip;\n    var event = action.event, errorEvent = action.errorEvent;\n    var _b = react_1.useState(function () { return ({\n        value: event.get(),\n        loading: (options === null || options === void 0 ? void 0 : options.skip) ? false : true,\n        error: null,\n    }); }), _c = _b[0], value = _c.value, loading = _c.loading, error = _c.error, setState = _b[1];\n    var callbacksRef = react_1.useRef({\n        completed: onCompleted,\n        error: onError,\n    });\n    callbacksRef.current = {\n        completed: onCompleted,\n        error: onError,\n    };\n    var fetch = react_1.useCallback(function () {\n        setState(function (state) { return (__assign(__assign({}, state), { loading: true })); });\n        action.apply(void 0, params);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, __spreadArray([action], params));\n    react_1.useEffect(function () {\n        if (skip) {\n            return;\n        }\n        fetch();\n    }, [fetch, skip]);\n    react_1.useEffect(function () {\n        var onSuccessCallback = function (data) {\n            setState(function (state) { return (__assign(__assign({}, state), { loading: false, value: data })); });\n            if (callbacksRef.current.completed)\n                callbacksRef.current.completed(data);\n        };\n        var onErrorCallback = function (data) {\n            setState(function (state) { return (__assign(__assign({}, state), { loading: false, error: data })); });\n            if (callbacksRef.current.error)\n                callbacksRef.current.error(data);\n        };\n        var successSub = event.subscribe(onSuccessCallback);\n        var errorSub = errorEvent.subscribe(onErrorCallback);\n        return function () {\n            successSub.unsubscribe();\n            errorSub.unsubscribe();\n        };\n    }, [event, errorEvent]);\n    return [\n        value,\n        loading,\n        {\n            error: error,\n            refetch: fetch,\n        },\n    ];\n}\nexports.useFetchAction = useFetchAction;\n/**\n * Hook that handle call promise actions, like mutations to database in a declarative way.\n *\n * @param {ActionType} action - The action to be called.\n * @param {UseActionOptions} options - Option to handle the actions.\n * @param {Function} options.onCompleted - A callback to be called when the promise get resolved.\n * @param {Function} options.onError - A callback to be called when an error occurs.\n * @returns {UseCallActionReturn} - Hook state result.\n */\nfunction useCallAction(action, options) {\n    var _a = options || {}, onCompleted = _a.onCompleted, onError = _a.onError;\n    var event = action.event, errorEvent = action.errorEvent;\n    var _b = react_1.useState(function () { return ({\n        value: event.get(),\n        loading: false,\n        error: null,\n    }); }), _c = _b[0], value = _c.value, loading = _c.loading, error = _c.error, setState = _b[1];\n    var callbacksRef = react_1.useRef({\n        completed: onCompleted,\n        error: onError,\n    });\n    callbacksRef.current = {\n        completed: onCompleted,\n        error: onError,\n    };\n    var call = react_1.useCallback(function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        setState(function (state) { return (__assign(__assign({}, state), { loading: true })); });\n        action.apply(void 0, params);\n    }, [action]);\n    react_1.useEffect(function () {\n        var onSuccessCallback = function (data) {\n            setState(function (state) { return (__assign(__assign({}, state), { loading: false, value: data })); });\n            if (callbacksRef.current.completed)\n                callbacksRef.current.completed(data);\n        };\n        var onErrorCallback = function (data) {\n            setState(function (state) { return (__assign(__assign({}, state), { loading: false, error: data })); });\n            if (callbacksRef.current.error)\n                callbacksRef.current.error(data);\n        };\n        var successSub = event.subscribe(onSuccessCallback);\n        var errorSub = errorEvent.subscribe(onErrorCallback);\n        return function () {\n            successSub.unsubscribe();\n            errorSub.unsubscribe();\n        };\n    }, [event, errorEvent]);\n    return [\n        call,\n        loading,\n        {\n            error: error,\n            data: value,\n        },\n    ];\n}\nexports.useCallAction = useCallAction;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAction = void 0;\n/**\n * @param {Event} event - Event to bind the action.\n * @param {Event}  errorEvent - Event to bind on error.\n * @param {Function} action - Action to call.\n * @returns {Function} -  Function with the binded event.\n */\nfunction createAction(event, errorEvent, action) {\n    var _this = this;\n    var actionCallback = function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        return __awaiter(_this, void 0, void 0, function () {\n            var data, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, action.apply(void 0, params)];\n                    case 1:\n                        data = _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _a.sent();\n                        errorEvent.dispatch(error_1);\n                        return [2 /*return*/, { error: error_1 }];\n                    case 3:\n                        event.dispatch(data);\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    // This properties allow to idetify actions and it events from services and other functions\n    actionCallback.isAction = true;\n    actionCallback.event = event;\n    actionCallback.errorEvent = errorEvent;\n    return actionCallback;\n}\nexports.createAction = createAction;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.View = void 0;\nvar react_1 = require(\"react\");\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subscriptions = [];\n        _this.toBeSubscribedIfUnMounted = [];\n        _this.hasBeenUnmounted = false;\n        return _this;\n    }\n    /**\n     * Subscribe to an Event\n     * This is a helpful method to keep track of your subscriptions on UnMount and Mount of the Component.\n     *\n     * @param {Event} event - The Event object to which you want to subscribe\n     * @param {Function }callback - The callback function that's gonna be executed when it happens\n     * @param {boolean}receiveLastValue - Whether the callback should receive the last value immediately\n     * @return {Subscription} subscription The subscription for this event in the Store\n     */\n    View.prototype.subscribe = function (event, callback, receiveLastValue) {\n        if (receiveLastValue === void 0) { receiveLastValue = false; }\n        var subscription = event.subscribe(callback, receiveLastValue);\n        this.subscriptions.push(subscription);\n        // on an event where the component is unmounted and then mounted:\n        this.toBeSubscribedIfUnMounted.push({ event: event, callback: callback, receiveLastValue: receiveLastValue });\n        return subscription;\n    };\n    View.prototype.componentDidMount = function () {\n        if (!this.hasBeenUnmounted)\n            return;\n        var that = this;\n        this.toBeSubscribedIfUnMounted.forEach(function (observer) {\n            var store = observer.store;\n            if (store !== null && store !== undefined) {\n                var subscription = store.subscribe(observer.eventName, observer.callback, observer.receiveLastValue);\n                that.subscriptions.push(subscription);\n            }\n            else {\n                var event_1 = observer.event;\n                if (event_1 !== null && event_1 !== undefined) {\n                    var subscription = event_1.subscribe(observer.callback, observer.receiveLastValue);\n                    that.subscriptions.push(subscription);\n                }\n            }\n        });\n    };\n    View.prototype.componentWillUnmount = function () {\n        this.subscriptions.forEach(function (subscription) {\n            subscription.unsubscribe();\n        });\n        this.subscriptions = [];\n        this.hasBeenUnmounted = true;\n    };\n    return View;\n}(react_1.Component));\nexports.View = View;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createEvent = exports.Event = void 0;\nvar pub_sub_1 = require(\"./pub-sub\");\n/**\n * New Event Classes.\n */\nvar Event = /** @class */ (function () {\n    function Event(eventDescriptor) {\n        this.value = null;\n        this.publisher = new pub_sub_1.ConcretePublisher();\n        this.isEventEmpty = true;\n        if (eventDescriptor && eventDescriptor.initialValue)\n            this.value = eventDescriptor.initialValue;\n        this.reducer = eventDescriptor === null || eventDescriptor === void 0 ? void 0 : eventDescriptor.reducer;\n    }\n    Event.prototype.subscribe = function (subscriber, receiveLastValue) {\n        if (receiveLastValue === void 0) { receiveLastValue = false; }\n        var _subscriber = {\n            update: subscriber,\n        };\n        if (receiveLastValue)\n            subscriber(this.get());\n        return this.publisher.subscribe(_subscriber);\n    };\n    Event.prototype.dispatch = function (eventValue) {\n        var value = Object.freeze(this.reducer !== null && this.reducer !== undefined\n            ? this.reducer(eventValue)\n            : eventValue);\n        this.value = value;\n        this.publisher.notify(value);\n        this.isEventEmpty = false;\n    };\n    Event.prototype.get = function () {\n        return Object.freeze(this.value);\n    };\n    Event.prototype.isEmpty = function () {\n        return this.isEventEmpty;\n    };\n    /**\n     * Removes all data from the Event store.\n     *\n     * @param {boolean} dispatch -\n     */\n    Event.prototype.clear = function (dispatch) {\n        if (dispatch === void 0) { dispatch = false; }\n        if (dispatch) {\n            this.dispatch(null); // Empty dispatch\n        }\n        else {\n            this.value = null;\n        }\n        this.isEventEmpty = true;\n    };\n    return Event;\n}());\nexports.Event = Event;\n/**\n * Creates an event from a descriptor.\n *\n * @param {EventParams} eventDescriptor - Event options.\n * @returns {Event} - Event object.\n */\nfunction createEvent(eventDescriptor) {\n    return new Event(eventDescriptor);\n}\nexports.createEvent = createEvent;\n"]}}